#!/bin/bash

echo "ğŸ” Verificando logs do webhook-receiver..."
echo "ğŸ“… Data/hora atual: $(date)"
echo ""
echo "ğŸŒ Acesse o dashboard do Supabase:"
echo "https://supabase.com/dashboard/project/svkgfvfhmngcvfsjpero/functions/webhook-receiver/logs"
echo ""
echo "ğŸ” Procure por logs com:"
echo "- ğŸ”¥ [req_] - Logs de debug detalhados"
echo "- WEBHOOK_LOG: - Logs estruturados em JSON"
echo "- Timestamp recente (Ãºltimos 5 minutos)"
echo ""
echo "ğŸ“Š Se nÃ£o aparecerem logs novos, pode ser:"
echo "1. â° Delay na exibiÃ§Ã£o dos logs (aguarde 1-2 minutos)"
echo "2. ğŸš« Filtros ativos no dashboard (remova filtros)"
echo "3. ğŸ”„ Cache do browser (force refresh com Ctrl+F5)"
echo "4. ğŸ“¡ Problema de conectividade com o webhook"
echo ""
echo "ğŸ§ª Para testar novamente:"
echo "curl -X POST https://svkgfvfhmngcvfsjpero.supabase.co/functions/v1/webhook-receiver \\"
echo "  -H \"Content-Type: application/json\" \\"
echo "  -d '{\"instance\": \"chat saira\", \"data\": {\"key\": {\"remoteJid\": \"556492019427@s.whatsapp.net\", \"fromMe\": false, \"id\": \"test_$(date +%s)\"}, \"message\": {\"conversation\": \"Teste $(date)\"}, \"messageTimestamp\": $(date +%s), \"pushName\": \"Teste\"}}'"